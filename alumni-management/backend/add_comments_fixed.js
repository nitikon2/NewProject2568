const mysql = require('mysql2/promise');

// ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
const dbConfig = {
    host: 'localhost',
    user: 'root',
    password: '',
    database: 'alumni_db',
    charset: 'utf8mb4'
};

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß
async function addCommentsFixed() {
    let connection;
    try {
        connection = await mysql.createConnection(dbConfig);
        console.log('‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');

        // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• post_id ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á
        const [posts] = await connection.execute('SELECT id FROM posts ORDER BY id');
        const postIds = posts.map(p => p.id);
        
        console.log(`‡∏°‡∏µ‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ${postIds.length} ‡πÇ‡∏û‡∏™‡∏ï‡πå: ${postIds.join(', ')}`);
        
        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ post_id ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
        const comments = [
            // Comments ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÅ‡∏£‡∏Å (‡∏´‡∏≤‡∏á‡∏≤‡∏ô)
            {
                post_id: postIds[0],
                content: '‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏±‡∏ö‡∏û‡∏µ‡πà‡∏ó‡∏µ‡πà‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô ‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå‡∏Ñ‡∏ß‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏ö‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡∏ö?',
                user_id: 17,
                parent_comment_id: null
            },
            {
                post_id: postIds[0],
                content: '‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö‡∏û‡∏µ‡πà! ‡∏Ç‡∏≠‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏à‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Å‡∏•‡∏±‡∏ß‡πÄ‡∏≠‡∏≤‡∏ï‡πà‡∏≥‡πÑ‡∏õ üòÖ',
                user_id: 22,
                parent_comment_id: null
            },
            {
                post_id: postIds[0],
                content: '‡πÅ‡∏ä‡∏£‡πå‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏Å‡πá‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≠‡∏á‡∏´‡∏≤‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà‡∏û‡∏≠‡∏î‡∏µ',
                user_id: 18,
                parent_comment_id: null
            },

            // Comments ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà 2 (‡∏™‡∏≠‡∏ô‡πÄ‡∏ß‡πá‡∏ö)
            {
                post_id: postIds[1],
                content: '‡∏™‡∏ô‡πÉ‡∏à‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ú‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏à‡∏ö ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏•‡∏¢ ‡∏Ç‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö?',
                user_id: 19,
                parent_comment_id: null
            },
            {
                post_id: postIds[1],
                content: '‡∏ß‡πâ‡∏≤‡∏ß ‡πÉ‡∏à‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‡∏û‡∏µ‡πà ‡∏ú‡∏°‡∏Å‡πá‡∏™‡∏ô‡πÉ‡∏à‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏™‡∏≤‡∏£‡πå-‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå',
                user_id: 28,
                parent_comment_id: null
            },
            {
                post_id: postIds[1],
                content: '‡∏Ç‡∏≠‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏£‡∏±‡∏ö ‡∏à‡∏∞‡∏™‡∏≠‡∏ô‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡πÄ‡∏•‡∏¢‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö? ‡∏ú‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô IT ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏á‡∏á‡πÜ ‡∏≠‡∏¢‡∏π‡πà',
                user_id: 20,
                parent_comment_id: null
            },

            // Comments ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà 3 (Startup)
            {
                post_id: postIds[2],
                content: '‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ú‡∏°‡πÄ‡∏õ‡πá‡∏ô UX/UI Designer ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå 3 ‡∏õ‡∏µ ‡∏™‡∏ô‡πÉ‡∏à‡∏Ñ‡∏£‡∏±‡∏ö',
                user_id: 23,
                parent_comment_id: null
            },
            {
                post_id: postIds[2],
                content: '‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ Funding ‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡∏Ñ‡∏£‡∏±‡∏ö? ‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏à‡∏î‡∏µ‡∏ô‡∏∞ ‡πÅ‡∏ï‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô',
                user_id: 24,
                parent_comment_id: null
            },

            // Comments ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà 4 (‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£)
            {
                post_id: postIds[3],
                content: '‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏ã‡∏≠‡∏¢‡πÅ‡∏°‡πà‡∏™‡∏≤‡∏¢‡∏≠‡∏£‡πà‡∏≠‡∏¢‡∏à‡∏£‡∏¥‡∏á‡∏Ñ‡πà‡∏∞! ‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡πâ‡∏≤‡∏ô‡∏™‡πâ‡∏°‡∏ï‡∏≥‡∏õ‡πâ‡∏≤‡∏≠‡πâ‡∏≠‡∏°‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ã‡πÄ‡∏ß‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏∞',
                user_id: 21,
                parent_comment_id: null
            },
            {
                post_id: postIds[3],
                content: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡πâ‡∏≤‡∏ô "‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß‡∏•‡∏∏‡∏á‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏ô" ‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß‡∏ï‡πâ‡∏°‡∏¢‡∏≥‡πÄ‡∏î‡πá‡∏î‡∏°‡∏≤‡∏Å 40 ‡∏ö‡∏≤‡∏ó ‡∏Ñ‡∏∏‡πâ‡∏°‡∏°‡∏≤‡∏Å!',
                user_id: 27,
                parent_comment_id: null
            },

            // Comments ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà 5 (‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á)
            {
                post_id: postIds[4],
                content: '‡∏ó‡∏µ‡∏ß‡∏µ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞ ‡∏™‡∏ô‡πÉ‡∏à‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡∏Ñ‡πà‡∏∞',
                user_id: 25,
                parent_comment_id: null
            },
            {
                post_id: postIds[4],
                content: '‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô‡∏Å‡∏±‡∏ö‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü‡∏¢‡∏±‡∏á‡∏°‡∏µ‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö ‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ 2 ‡∏ä‡∏¥‡πâ‡∏ô‡∏ô‡∏µ‡πâ',
                user_id: 29,
                parent_comment_id: null
            },

            // Comments ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà 7 (‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ï‡πà‡∏≠)
            {
                post_id: postIds[6],
                content: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏ô‡πÉ‡∏à‡πÑ‡∏õ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏™‡πÄ‡∏ï‡∏£‡πÄ‡∏•‡∏µ‡∏¢‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô',
                user_id: 30,
                parent_comment_id: null
            },
            {
                post_id: postIds[6],
                content: '‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏á‡∏≤‡∏ô Part-time ‡∏´‡∏≤‡∏á‡πà‡∏≤‡∏¢‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö? ‡∏Å‡∏±‡∏á‡∏ß‡∏•‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢',
                user_id: 16,
                parent_comment_id: null
            },

            // Comments ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà 8 (‡∏ß‡∏¥‡πà‡∏á)
            {
                post_id: postIds[7],
                content: '‡∏™‡∏ô‡πÉ‡∏à‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏£‡∏∞‡∏¢‡∏∞ 5 ‡∏Å‡∏°. ‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ô‡∏≤‡∏ô‡πÜ ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ß‡∏¥‡πà‡∏á‡∏ó‡∏µ‡∏ô‡∏∂‡∏á',
                user_id: 18,
                parent_comment_id: null
            },
            {
                post_id: postIds[7],
                content: '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏™‡∏°‡∏±‡∏Ñ‡∏£ 10 ‡∏Å‡∏°. ‡πÅ‡∏•‡πâ‡∏ß ‡∏´‡∏ß‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ô‡∏∞ üòÇ',
                user_id: 30,
                parent_comment_id: null
            },

            // Comments ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà 10 (‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå)
            {
                post_id: postIds[9],
                content: '‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡∏Ñ‡∏≠‡∏£‡πå‡∏™ CS50 ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÜ',
                user_id: 22,
                parent_comment_id: null
            },
            {
                post_id: postIds[9],
                content: '‡πÄ‡∏û‡∏¥‡πà‡∏° Udemy ‡πÅ‡∏•‡∏∞ Codecademy ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡∏°‡∏µ‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏î‡∏µ‡πÜ ‡πÄ‡∏¢‡∏≠‡∏∞',
                user_id: 26,
                parent_comment_id: null
            }
        ];

        console.log('\n=== ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô ===');
        let addedComments = 0;
        
        for (let comment of comments) {
            try {
                const [result] = await connection.execute(
                    `INSERT INTO comments (post_id, content, user_id, parent_comment_id) VALUES (?, ?, ?, ?)`,
                    [comment.post_id, comment.content, comment.user_id, comment.parent_comment_id]
                );
                console.log(`‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô: ${comment.content.substring(0, 30)}...`);
                addedComments++;
            } catch (error) {
                console.error(`‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô: ${comment.content.substring(0, 30)}...`, error.message);
            }
        }

        // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô
        console.log('\n=== ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö ===');
        
        // ‡∏î‡∏∂‡∏á comment_id ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏õ
        const [newComments] = await connection.execute(
            'SELECT id, post_id, user_id FROM comments ORDER BY id DESC LIMIT 10'
        );

        const replies = [
            {
                post_id: newComments[0].post_id,
                content: '‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Å‡πà‡∏≠‡∏ô ‡∏î‡∏π‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£ ‡∏ß‡∏¥‡∏™‡∏±‡∏¢‡∏ó‡∏±‡∏®‡∏ô‡πå ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö',
                user_id: 16, // ‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ï‡∏≠‡∏ö
                parent_comment_id: newComments[0].id
            },
            {
                post_id: newComments[1].post_id,
                content: '‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏à‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏£‡∏£‡∏π‡πâ Market Rate ‡∏Å‡πà‡∏≠‡∏ô ‡∏î‡∏π Salary Survey ‡∏à‡∏≤‡∏Å JobsDB ‡πÅ‡∏•‡πâ‡∏ß‡∏Ç‡∏≠‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ 10-15% ‡∏Ñ‡∏£‡∏±‡∏ö',
                user_id: 16,
                parent_comment_id: newComments[1].id
            },
            {
                post_id: newComments[3].post_id,
                content: '‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö! ‡∏à‡∏∞‡∏™‡πà‡∏á Line ‡πÉ‡∏´‡πâ‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏¢‡πá‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö',
                user_id: 22,
                parent_comment_id: newComments[3].id
            },
            {
                post_id: newComments[5].post_id,
                content: '‡πÉ‡∏ä‡πà‡∏Ñ‡∏£‡∏±‡∏ö ‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏™‡∏∏‡∏î‡πÜ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏á‡∏ß‡∏•‡∏Ñ‡∏£‡∏±‡∏ö ‡∏à‡∏∞‡∏™‡∏≠‡∏ô‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô',
                user_id: 22,
                parent_comment_id: newComments[5].id
            },
            {
                post_id: newComments[6].post_id,
                content: '‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏à‡∏∞ PM ‡πÑ‡∏õ‡πÉ‡∏´‡πâ ‡∏Ç‡∏≠‡∏î‡∏π Portfolio ‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö',
                user_id: 26,
                parent_comment_id: newComments[6].id
            }
        ];

        let addedReplies = 0;
        for (let reply of replies) {
            try {
                const [result] = await connection.execute(
                    `INSERT INTO comments (post_id, content, user_id, parent_comment_id) VALUES (?, ?, ?, ?)`,
                    [reply.post_id, reply.content, reply.user_id, reply.parent_comment_id]
                );
                console.log(`‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö: ${reply.content.substring(0, 30)}...`);
                addedReplies++;
            } catch (error) {
                console.error(`‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö: ${reply.content.substring(0, 30)}...`, error.message);
            }
        }

        // ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
        console.log('\n=== ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° ===');
        const [totalComments] = await connection.execute('SELECT COUNT(*) as total FROM comments');
        const [totalReplies] = await connection.execute('SELECT COUNT(*) as total FROM comments WHERE parent_comment_id IS NOT NULL');
        
        console.log(`üí¨ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${totalComments[0].total} ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô`);
        console.log(`‚Ü©Ô∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö: ${totalReplies[0].total} ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö`);
        console.log(`‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ: ${addedComments} ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô, ${addedReplies} ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö`);
        
        console.log('\nüéâ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô!');
        
    } catch (error) {
        console.error('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:', error);
    } finally {
        if (connection) {
            await connection.end();
            console.log('‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
        }
    }
}

// ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô
addCommentsFixed();